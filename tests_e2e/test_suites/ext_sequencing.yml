#
# Adds extensions with multiple dependencies to VMSS using 'provisionAfterExtensions' property and validates they are
# enabled in order of dependencies.
#
name: "ExtSequencing"
tests:
  - "ext_sequencing/ext_sequencing.py"
images: "endorsed"
# This scenario is executed on instances of a scaleset created by the agent test suite.
executes_on_scale_set: true

# TODO: Currently AlmaLinux is not available for scale sets; enable this image when it is available.
skip_on_images:
  - "alma_8"
  - "alma_9"
  - "alma_10"

# TODO: The current deployment of VmAccess 1.5.22 prevents the extension from uninstalling; enable this test when the issue is fixed
skip_on_clouds:
  - "AzureUSGovernment"
